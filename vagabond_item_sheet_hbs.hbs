<form class="{{cssClass}} flexcol" autocomplete="off">
  
  {{!-- Sheet Header --}}
  <header class="sheet-header">
    <img class="profile" src="{{item.img}}" data-action="showImage" title="{{item.name}}" alt="{{item.name}}"/>
    
    <div class="header-details flexcol">
      <h1 class="charname">
        <input name="name" type="text" value="{{item.name}}" placeholder="Item Name"/>
      </h1>
      
      <div class="item-subtitle">
        {{localize (concat "ITEM.Type" item.type)}}
      </div>
    </div>
  </header>

  {{!-- Sheet Body --}}
  <section class="sheet-body">
    
    {{!-- Weapon specific fields --}}
    {{#if (eq item.type "weapon")}}
    <h2>Weapon Properties</h2>
    
    <div class="form-group">
      <label>Damage Die</label>
      <input type="text" name="system.damage.die" value="{{system.damage.die}}" placeholder="d6"/>
    </div>
    
    <div class="form-group">
      <label>Range</label>
      <select name="system.range">
        {{#select system.range}}
        {{#each config.distances as |label key|}}
        <option value="{{key}}">{{localize label}}</option>
        {{/each}}
        {{/select}}
      </select>
    </div>
    
    <div class="form-group">
      <label>Grip</label>
      <select name="system.grip">
        {{#select system.grip}}
        {{#each config.weaponGrips as |label key|}}
        <option value="{{key}}">{{localize label}}</option>
        {{/each}}
        {{/select}}
      </select>
    </div>
    
    <div class="form-group">
      <label>Properties</label>
      <div class="checkbox-list">
        {{#each config.weaponProperties as |label key|}}
        <label>
          <input type="checkbox" name="system.properties" value="{{key}}" {{checked (includes ../system.properties key)}}/>
          {{localize label}}
        </label>
        {{/each}}
      </div>
    </div>
    {{/if}}
    
    {{!-- Armor specific fields --}}
    {{#if (eq item.type "armor")}}
    <h2>Armor Properties</h2>
    
    <div class="form-group">
      <label>Type</label>
      <select name="system.type">
        {{#select system.type}}
        {{#each config.armorTypes as |label key|}}
        <option value="{{key}}">{{localize label}}</option>
        {{/each}}
        {{/select}}
      </select>
    </div>
    
    <div class="form-group">
      <label>Armor Rating</label>
      <input type="number" name="system.rating" value="{{system.rating}}" data-dtype="Number" min="1" max="3"/>
    </div>
    
    <div class="form-group">
      <label>Might Requirement</label>
      <input type="number" name="system.mightReq" value="{{system.mightReq}}" data-dtype="Number" min="2" max="7"/>
    </div>
    {{/if}}
    
    {{!-- Spell specific fields --}}
    {{#if (eq item.type "spell")}}
    <h2>Spell Properties</h2>
    
    <div class="form-group">
      <label>Damage Base</label>
      <input type="text" name="system.damageBase" value="{{system.damageBase}}" placeholder="Fire, Cold, etc."/>
    </div>
    
    <div class="form-group">
      <label>Delivery</label>
      <select name="system.delivery">
        {{#select system.delivery}}
        {{#each config.spellDeliveries as |delivery key|}}
        <option value="{{key}}">{{localize delivery.label}}</option>
        {{/each}}
        {{/select}}
      </select>
    </div>
    
    <div class="form-group">
      <label>Effect</label>
      <textarea name="system.effect" rows="4">{{system.effect}}</textarea>
    </div>
    {{/if}}
    
    {{!-- Common fields for physical items --}}
    {{#if (or (eq item.type "weapon") (eq item.type "armor") (eq item.type "gear"))}}
    <h3>Physical Properties</h3>
    
    <div class="form-group">
      <label>Slots</label>
      <input type="number" name="system.slots" value="{{system.slots}}" data-dtype="Number" min="0"/>
    </div>
    
    <div class="form-group">
      <label>Quantity</label>
      <input type="number" name="system.quantity" value="{{system.quantity}}" data-dtype="Number" min="1"/>
    </div>
    
    <div class="form-group">
      <label>Price (Gold)</label>
      <input type="number" name="system.price.gold" value="{{system.price.gold}}" data-dtype="Number" min="0"/>
    </div>
    
    <div class="form-group">
      <label>Price (Silver)</label>
      <input type="number" name="system.price.silver" value="{{system.price.silver}}" data-dtype="Number" min="0"/>
    </div>
    {{/if}}
    
    <h3>Description</h3>
    <div class="editor">
      {{editor enrichedDescription target="system.description" button=true editable=editable}}
    </div>

  </section>
</form>